# ğŸ””Python-Selenium ì†ë„ í–¥ìƒ TIPğŸ””

  >ì…€ë ˆë‹ˆì›€ìœ¼ë¡œ í¬ë¡¤ë§ì„ ì§„í–‰í•˜ë‹¤ ë³´ë©´ ë³´ë‹¤ ë¹ ë¥´ê²Œ í¬ë¡¤ë§ì„ í•˜ê³  ì‹¶ì„ ë•Œê°€ ìˆë‹¤.
  >íŠ¹íˆ í”„ë¡œì íŠ¸ ì§„í–‰ì‹œ í¬ë¡¤ë§ ì†ë„ê°€ ì¤‘ìš”í•˜ë¯€ë¡œ ì…€ë ˆë‹ˆì›€ ì‚¬ìš©ì‹œ ì†ë„ í–¥ìƒ ë°©ë²• 5ê°€ì§€ë¥¼ ì •ë¦¬í•´ë³¸ë‹¤. 

***

###  1. ë“œë¼ì´ë²„ë¥¼ Headlessë¡œ ë§Œë“ ë‹¤. 

- ì…€ë ˆë‹ˆì›€ì„ ê·¸ëƒ¥ ì‘ë™í•˜ë©´ í¬ë¡¬ì´ ìƒˆë¡œìš´ ì°½ì—ì„œ ì—´ë¦°ë‹¤. ê·¸ëŸ¬ë‚˜, êµ‰ì¥íˆ ë‹µë‹µí•  ë•Œê°€ ì¡´ì¬í•œë‹¤. 
- ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì°½ì´ ì—†ëŠ” ìƒíƒœë¡œ ì…€ë ˆë‹ˆì›€ì„ ë”ìš± ë¹ ë¥´ê²Œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. 

      from selenium.webdriver.chrome.options import Options
      chrome_options = Options()
      chrome_options.headless = True #headless ì„¤ì •

***

###  2. Pageload strategy ì„¤ì •ì„ ë³€ê²½í•œë‹¤. 

- ì…€ë ˆë‹ˆì›€ ë“œë¼ì´ë¸Œì˜ ì„¤ì •ì—ì„œ Pageload strategyë¥¼ ë³€ê²½í•˜ë©´ í˜ì´ì§€ê°€ ë¡œë“œê°€ ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì§€ ì•Šì•„ë„ ëœë‹¤. 

      from selenium.webdriver.common.desired_capabilities import DesiredCapabilities
      caps = DesiredCapabilities().CHROME
      caps["pageLoadStrategy] = "none" #ì›ë˜ëŠ” normalë¡œ ì„¤ì •ì´ ë˜ì–´ ìˆìŒ

***

### 3. time.wait ëŒ€ì‹  seleniumì˜ wait, expected conditionsë¥¼ ì‚¬ìš©í•œë‹¤. 

- ë‚´ê°€ ì›í•˜ëŠ” íŠ¹ì • elementì˜ ë¡œë”©ì´ ëë‚˜ìë§ˆì ë‹¤ìŒ ë™ì‘ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” wait, expected condition objectë¥¼ í™œìš©í•œë‹¤. ë¡œë”©ì´ ëë‚˜ìë§ˆì click ë˜ëŠ” send keysê°€ ê°€ëŠ¥í•˜ë‹¤. 

        from selenium.webdriver.support.ui import WebDriverWait as wait from selenium.webdriver.common.by import By from selenium.webdriver.support import expected_conditions as EC

        wait(driver, 10).until(EC.visibility_of_element_located((By.CSS_SELECTOR, 'textarea.commentWrite._use_keyup_event._messageTextArea'))).send_keys('o',Keys.CONTROL, Keys.RETURN)

***

### 4. send_keys ëŒ€ì‹  execute_sciptë¥¼ í™œìš©í•œë‹¤. 

        #send_keysë¥¼ í™œìš©í•˜ëŠ” ê²½ìš°

        element = wait(driver, 10)until(EC.visibility_of_element_located((By.CSS_SELECTOR, 'textarea.commentWrite._use_keyup_event._messageTextArea')))

        #execute_sciptsë¥¼ í™œìš©í•˜ëŠ” ê²½ìš°
        driver.execute_script("document.getElementsByTagName('textarea')[0].value='o'")

***

### 5. While Loop ëŒ€ì‹  For Loopë¥¼ ì‚¬ìš©í•œë‹¤. 

- Loopê°€ ëŒì•„ê°€ëŠ” ì†ë„ê°€ ë”ìš± ë¹ ë¥´ë‹¤. 

        # While loop 
        while True: if int(current_num) == target_num: break else: response = requests.get(url=url,headers=headers).json() current_num = response['result_data'] 

        # for loop 
        for i in range(10000000000): response = requests.get(url=url,headers=headers).json() current_num = response['result_data'] if int(current_num) == target_num: break

ì¶œì²˜: https://dsconsulting.tistory.com/1 [ë‹¤ë¹„ë“œ ìŠ¤íŠœë””ì˜¤]


